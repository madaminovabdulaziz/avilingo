# AviLingo Backend Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE
# =============================================================================
# MySQL connection string
# Format: mysql+pymysql://user:password@host:port/database
DATABASE_URL=mysql+pymysql://avilingo:avilingo_password@localhost:3306/avilingo_db

# =============================================================================
# SECURITY
# =============================================================================
# Secret key for JWT token signing (generate with: openssl rand -hex 32)
SECRET_KEY=your-super-secret-key-change-in-production

# JWT token settings
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# Algorithm for JWT
ALGORITHM=HS256

# =============================================================================
# REDIS
# =============================================================================
# Redis connection for caching and rate limiting
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# OPENAI
# =============================================================================
# OpenAI API key for speech-to-text and AI feedback
OPENAI_API_KEY=sk-your-openai-api-key

# =============================================================================
# CLOUD STORAGE (AWS S3 / MinIO)
# =============================================================================
# 
# OPTION A: MinIO (FREE - Recommended for Development)
# --------------------------------------------------------
# Use Docker Compose MinIO service (docker-compose up -d minio)
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin123
# AWS_S3_BUCKET=avilingo-audio
# AWS_S3_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=http://localhost:9000
# AWS_S3_PUBLIC_URL=http://localhost:9000/avilingo-audio
#
# OPTION B: AWS S3 (Production)
# --------------------------------------------------------
# Create an S3 bucket and IAM user at aws.amazon.com
# AWS_ACCESS_KEY_ID=AKIA...your-key...
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=avilingo-audio-yourname
# AWS_S3_REGION=eu-central-1
# AWS_S3_ENDPOINT_URL=
# AWS_S3_PUBLIC_URL=
#
# Current Configuration:
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin123
AWS_S3_BUCKET=avilingo-audio
AWS_S3_REGION=us-east-1
AWS_S3_ENDPOINT_URL=http://localhost:9000
AWS_S3_PUBLIC_URL=http://localhost:9000/avilingo-audio

# =============================================================================
# CELERY (Background Tasks)
# =============================================================================
# Celery broker URL (Redis)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend (Redis)
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# WHISPER (Speech-to-Text)
# =============================================================================
# Whisper model size: tiny, base, small, medium, large
# Smaller = faster but less accurate, larger = slower but more accurate
WHISPER_MODEL=base

# Use OpenAI Whisper API instead of local model
# Set to true for production to avoid GPU requirements
USE_OPENAI_WHISPER_API=false

# =============================================================================
# APPLICATION
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (disable in production)
DEBUG=true

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# API version prefix
API_V1_PREFIX=/api/v1

# =============================================================================
# REVENUECAT (In-App Purchases)
# =============================================================================
# RevenueCat API v1 key (starts with sk_)
# Get this from: RevenueCat Dashboard > Project Settings > API Keys
REVENUECAT_API_KEY=sk_your-revenuecat-api-key

# Shared secret for webhook signature verification
# Generate a strong random string (openssl rand -hex 32)
# Configure this in: RevenueCat Dashboard > Project Settings > Webhooks
REVENUECAT_WEBHOOK_AUTH_KEY=your-webhook-auth-key

# Your RevenueCat project/app identifier
# Find this in: RevenueCat Dashboard > Project Settings
REVENUECAT_APP_ID=app_your-app-id

# Product Identifiers (must match RevenueCat dashboard configuration)
PREMIUM_MONTHLY_PRODUCT_ID=avilingo_premium_monthly
PREMIUM_YEARLY_PRODUCT_ID=avilingo_premium_yearly
LIFETIME_PRODUCT_ID=avilingo_lifetime

